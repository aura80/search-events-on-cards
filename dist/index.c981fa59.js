document.addEventListener("DOMContentLoaded",function(){let e="http://localhost:3000/events",t=document.getElementById("searchButton"),n=document.getElementById("searchInput"),l=document.getElementById("eventContainer"),o=document.getElementById("modalEventName"),a=document.getElementById("paginationContainer"),d=document.getElementsByClassName("close")[0],s=document.getElementById("myModal"),r=1;function i(t,n,o,d=""){let s=`${t}?size=${n}&page=${o-1}${d?`&keyword=${d}`:""}`;console.log("Fetching events from URL:",s),fetch(s).then(e=>{if(console.log("Raw response:",e),!e.ok)throw console.error(`HTTP error! Status: ${e.status} - ${e.statusText}`),Error(`HTTP error! Status: ${e.status}`);return e.json()}).then(t=>{if(console.log("Events fetched:",t),t._embedded&&t._embedded.events){l.innerHTML="",a.innerHTML="";let s=t._embedded.events.filter(c);console.log("Valid events to be processed:",s),l.innerHTML="",s.forEach(e=>{console.log("Processing event:",e);let t=e?.name||"Unknown Event",n=e?.url||"#",o=e?.dates?.start?.dateTime?new Date(e.dates.start.dateTime).toLocaleDateString():"Unknown Date",a=e?._embedded?.venues?.[0]?`${e._embedded.venues[0].name}, ${e._embedded.venues[0].city.name}`:"Unknown Location",d=e.images&&e.images[0]?.url?e.images[0].url:"",s=document.createElement("div");s.classList.add("event-card"),s.dataset.name=t,s.dataset.url=n,s.style.backgroundColor="black",s.style.border="1px solid black",s.style.position="relative";let r=document.createElement("div");r.classList.add("square"),r.style.borderRadius="50px 0px 50px 0px",r.style.border="1px solid rgba(238, 30, 203, 0.3)",r.style.backgroundColor="transparent",r.style.position="absolute",r.style.top="0",r.style.right="0",r.style.width="80%",r.style.height="40%",r.style.zIndex="1",s.appendChild(r);let i=document.createElement("img");i.classList.add("event-image"),i.src=d,i.alt=`${t} Image`,i.style.width="100%",i.style.borderRadius="50px 0px 50px 0px",i.style.position="relative",i.style.zIndex="0",s.appendChild(i);let c=document.createElement("h3");c.textContent=t,c.style.color="#DC56C5",s.appendChild(c);let m=document.createElement("p");m.textContent=`${o}`,s.appendChild(m);let p=document.createElement("p"),u=document.createElement("span");u.style.display="flex",u.style.alignItems="center";let y=document.createElement("img");y.src="../images/Vector.png",y.alt="Vector Image",y.style.width="7px",y.style.height="10px",y.style.marginRight="7px",u.appendChild(y),u.appendChild(document.createTextNode(a)),p.appendChild(u),s.appendChild(p),l.appendChild(s),console.log("Event card created for event:",t)}),function(t,n,l=""){if(!((t=Math.min(t,30))<=1)){if(n>1){let t=document.createElement("button");t.textContent="Previous",t.addEventListener("click",function(){i(e,20,n-1,l)}),a.appendChild(t)}for(let o=1;o<=t;o++)if(1===o||o===t||o>=n-2&&o<=n+2){let t=document.createElement("button");t.textContent=o,o===n&&(t.style.fontWeight="bold"),t.addEventListener("click",function(){i(e,20,o,l)}),a.appendChild(t)}else if(o===n-3||o===n+3){let e=document.createElement("span");e.textContent="...",a.appendChild(e)}if(n<t){let t=document.createElement("button");t.textContent="Next",t.addEventListener("click",function(){i(e,20,n+1,l)}),a.appendChild(t)}}}(Math.min(30,Math.ceil(t.page.totalElements/n)),o,d)}else console.error("No events found in the response"),l.innerHTML="<p>No events found.</p>",l.style.color="white",l.style.fontSize="30px",l.style.display="flex",l.style.flexDirection="row",l.style.justifyContent="center"}).catch(e=>{console.error("Error fetching events:",e),l.innerHTML=`<p>Error fetching events. Please try again later. ${e.message}</p>`})}function c(e){return e&&e.name&&e.url}document.body.style.backgroundColor="black",i(e,20,r),t.addEventListener("click",function(){let t=n.value;console.log("Search Term:",t),t?i(e,20,r=1,t):alert("Please enter an event name to search")}),l.addEventListener("click",function(e){let t=e.target.closest(".event-card");t.style.zIndex="2",console.log("Modal: ",t.name),t&&(s.style.display="block",s.style.zIndex="3",o.textContent=t.dataset.name)}),d.onclick=function(){s.style.display="none"},window.onclick=function(e){e.target==s&&(s.style.display="none")}});
//# sourceMappingURL=index.c981fa59.js.map
