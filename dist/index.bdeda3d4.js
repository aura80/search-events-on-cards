document.addEventListener("DOMContentLoaded",function(){let e="http://localhost:3000/events",t=document.getElementById("searchButton"),n=document.getElementById("searchInput"),o=document.getElementById("eventContainer"),l=document.getElementById("modalEventName"),a=document.getElementById("paginationContainer"),s=document.getElementsByClassName("close")[0],d=document.getElementById("myModal"),r=1;function c(t,n,l,s=""){let d=`${t}?size=${n}&page=${l-1}${s?`&keyword=${s}`:""}`;console.log("Fetching events from URL:",d),fetch(d).then(e=>{if(console.log("Raw response:",e),!e.ok)throw console.error(`HTTP error! Status: ${e.status} - ${e.statusText}`),Error(`HTTP error! Status: ${e.status}`);return e.json()}).then(t=>{if(console.log("Events fetched:",t),t._embedded&&t._embedded.events){o.innerHTML="",a.innerHTML="";let d=t._embedded.events.filter(i);console.log("Valid events to be processed:",d),o.innerHTML="",d.forEach(e=>{console.log("Processing event:",e);let t=e?.name||"Unknown Event",n=e?.url||"#",l=e?.dates?.start?.dateTime?new Date(e.dates.start.dateTime).toLocaleDateString():"Unknown Date",a=e?._embedded?.venues?.[0]?`${e._embedded.venues[0].name}, ${e._embedded.venues[0].city.name}`:"Unknown Location",s=e.images&&e.images[0]?.url?e.images[0].url:"",d=document.createElement("div");d.classList.add("event-card"),d.dataset.name=t,d.dataset.url=n,d.style.backgroundColor="black",d.style.border="1px solid black",d.style.position="relative";let r=document.createElement("div");r.classList.add("square"),r.style.borderRadius="50px 0px 50px 0px",r.style.border="1px solid rgba(238, 30, 203, 0.3)",r.style.backgroundColor="transparent",r.style.position="absolute",r.style.top="0",r.style.right="0",r.style.width="80%",r.style.height="40%",r.style.zIndex="1",d.appendChild(r);let c=document.createElement("img");c.classList.add("event-image"),c.src=s,c.alt=`${t} Image`,c.style.width="100%",c.style.borderRadius="50px 0px 50px 0px",c.style.position="relative",c.style.zIndex="0",d.appendChild(c);let i=document.createElement("h3");i.textContent=t,i.style.color="#DC56C5",d.appendChild(i);let m=document.createElement("p");m.textContent=`${l}`,d.appendChild(m);let p=document.createElement("p"),u=document.createElement("span");u.style.display="flex",u.style.alignItems="center";let y=document.createElement("img");"localhost"===window.location.hostname?y.src="../images/Vector.png":y.src="https://aura80.github.io/search-events-on-cards/images/Vector.png",y.alt="Vector Image",y.style.width="20px",y.style.height="20px",y.style.marginRight="7px",document.body.appendChild(y),u.appendChild(y),u.appendChild(document.createTextNode(a)),p.appendChild(u),d.appendChild(p),o.appendChild(d),console.log("Event card created for event:",t)}),function(t,n,o=""){if(!((t=Math.min(t,30))<=1)){if(n>1){let t=document.createElement("button");t.textContent="Previous",t.addEventListener("click",function(){c(e,20,n-1,o)}),a.appendChild(t)}for(let l=1;l<=t;l++)if(1===l||l===t||l>=n-2&&l<=n+2){let t=document.createElement("button");t.textContent=l,l===n&&(t.style.fontWeight="bold"),t.addEventListener("click",function(){c(e,20,l,o)}),a.appendChild(t)}else if(l===n-3||l===n+3){let e=document.createElement("span");e.textContent="...",a.appendChild(e)}if(n<t){let t=document.createElement("button");t.textContent="Next",t.addEventListener("click",function(){c(e,20,n+1,o)}),a.appendChild(t)}}}(Math.min(30,Math.ceil(t.page.totalElements/n)),l,s)}else console.error("No events found in the response"),o.innerHTML="<p>No events found.</p>",o.style.color="white",o.style.fontSize="30px",o.style.display="flex",o.style.flexDirection="row",o.style.justifyContent="center"}).catch(e=>{console.error("Error fetching events:",e),o.innerHTML=`<p>Error fetching events. Please try again later. ${e.message}</p>`})}function i(e){return e&&e.name&&e.url}document.body.style.backgroundColor="black",c(e,20,r),t.addEventListener("click",function(){let t=n.value;console.log("Search Term:",t),t?c(e,20,r=1,t):alert("Please enter an event name to search")}),o.addEventListener("click",function(e){let t=e.target.closest(".event-card");t.style.zIndex="2",console.log("Modal: ",t.name),t&&(d.style.display="block",d.style.zIndex="3",l.textContent=t.dataset.name)}),s.onclick=function(){d.style.display="none"},window.onclick=function(e){e.target==d&&(d.style.display="none")}});
//# sourceMappingURL=index.bdeda3d4.js.map
